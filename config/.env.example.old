# ========== 交易所选择 (Exchange Selection) ==========
# 选择要使用的交易所: binance / okx
# Change this to switch between exchanges
EXCHANGE=binance

# ========== 币安 API (Binance API) ==========
# 如果使用币安交易所，必填
BINANCE_API_KEY="your_binance_api_key_here"
BINANCE_API_SECRET="your_binance_api_secret_here"

# ========== OKX API ==========
# 如果使用OKX交易所，必填
# OKX requires all three parameters
OKX_API_KEY="your_okx_api_key_here"
OKX_API_SECRET="your_okx_api_secret_here"
OKX_PASSPHRASE="your_okx_passphrase_here"


# ========== 策略核心配置 (Strategy Core Settings) ==========
# 要运行的交易对列表，用英文逗号分隔
# 例如: "BNB/USDT,ETH/USDT,BTC/USDT"
SYMBOLS="BNB/USDT,ETH/USDT"

# 按交易对设置初始参数 (JSON格式)
# 为每个交易对设置 "initial_base_price" 和 "initial_grid"
# 如果某个交易对在此处未定义，程序将自动使用当前市价作为基准价，并使用下面的全局INITIAL_GRID
INITIAL_PARAMS_JSON='{"BNB/USDT": {"initial_base_price": 600.0, "initial_grid": 2.0}, "ETH/USDT": {"initial_base_price": 3000.0, "initial_grid": 2.5}, "BTC/USDT": {"initial_base_price": 45000.0, "initial_grid": 1.5}}'

# 全局默认初始网格大小 (%)
# 仅当上面的INITIAL_PARAMS_JSON中未指定某个交易对的网格时使用
INITIAL_GRID=2.0

# 最小交易金额 (USDT)，请确保大于交易所对该交易对的最小名义价值要求 (通常是10 USDT)
MIN_TRADE_AMOUNT=20.0


# ========== 初始状态设置 (Initial State) ==========
# 初始本金 (USDT)，用于计算总盈亏和盈亏率。如果不知道，可以留空或设为0。
INITIAL_PRINCIPAL=1000.0


# ========== 🆕 全局资金分配配置 (Global Fund Allocation) ==========
# 多交易对资金分配策略，防止资金竞争和过度使用
# 资金分配策略: equal (平均分配) / weighted (按权重分配) / dynamic (动态分配)
ALLOCATION_STRATEGY=equal

# 全局最大资金使用率 (0.5-1.0之间，推荐 0.95)
# 防止所有交易对加起来使用超过此比例的资金
GLOBAL_MAX_USAGE=0.95

# 权重配置 (JSON格式，仅当 ALLOCATION_STRATEGY=weighted 时使用)
# 权重越高，分配的资金越多
# 示例: {"BNB/USDT": 2.0, "ETH/USDT": 1.5, "BTC/USDT": 1.0}
# 留空则使用平均分配
ALLOCATION_WEIGHTS=

# 动态重新平衡间隔 (秒，仅当 ALLOCATION_STRATEGY=dynamic 时使用)
# 默认 3600 秒 (1小时)，最小 300 秒 (5分钟)
REBALANCE_INTERVAL=3600


# ========== 可选配置 (Optional) ==========
# PushPlus 通知 Token，用于发送交易通知或警报
PUSHPLUS_TOKEN="your_pushplus_token_here"

# 是否启用自动申购/赎回币安活期理财的功能 (true/false)
# 对于使用子账户API的用户，或不希望使用理财功能的用户，请设置为 false
ENABLE_SAVINGS_FUNCTION=true

# Web UI 访问认证。如果留空，Web界面将无需密码即可访问。
WEB_USER="admin"
WEB_PASSWORD="YourSecurePasswordHere"

# 代理设置 (如果需要通过代理连接币安)
# 例如: HTTP_PROXY="http://127.0.0.1:7890"
HTTP_PROXY=


# ========== 高级策略配置 (Advanced Strategy Settings) ==========
# 网格参数 (JSON格式)
GRID_PARAMS_JSON='{"min": 1.0, "max": 4.0, "volatility_threshold": {"ranges": [{"range": [0, 0.10], "grid": 1.0}, {"range": [0.10, 0.20], "grid": 2.0}, {"range": [0.20, 0.30], "grid": 3.0}, {"range": [0.30, 0.40], "grid": 4.0}, {"range": [0.40, 999], "grid": 4.0}]}}'

# 连续网格调整参数 (JSON格式)
GRID_CONTINUOUS_PARAMS_JSON='{"base_grid": 2.5, "center_volatility": 0.25, "sensitivity_k": 10.0}'

# 动态时间间隔参数 (JSON格式)
DYNAMIC_INTERVAL_PARAMS_JSON='{"volatility_to_interval_hours": [{"range": [0, 0.10], "interval_hours": 1.0}, {"range": [0.10, 0.20], "interval_hours": 0.5}, {"range": [0.20, 0.30], "interval_hours": 0.25}, {"range": [0.30, 999], "interval_hours": 0.125}], "default_interval_hours": 1.0}'

# 是否启用成交量加权波动率计算 (true/false)
ENABLE_VOLUME_WEIGHTING=true


# ========== AI辅助交易配置 (AI-Assisted Trading) ==========
# 是否启用AI辅助交易策略 (true/false)
AI_ENABLED=false

# AI提供商: openai / anthropic
AI_PROVIDER=openai

# AI模型: gpt-4-turbo / gpt-3.5-turbo / claude-3-opus-20240229 / claude-3-sonnet-20240229
AI_MODEL=gpt-4-turbo

# AI API密钥
# OpenAI: https://platform.openai.com/api-keys
# Anthropic: https://console.anthropic.com/settings/keys
AI_API_KEY=sk-your-api-key-here

# AI建议置信度阈值 (0-100)
# 只有置信度高于此阈值的建议才会被执行
AI_CONFIDENCE_THRESHOLD=70

# AI触发间隔 (秒)
# 每隔多久检查一次是否需要调用AI分析
# 建议: 900 (15分钟) 或 1800 (30分钟)
AI_TRIGGER_INTERVAL=900

# 每日最大AI调用次数
# 防止过度调用产生高额费用
AI_MAX_CALLS_PER_DAY=100

# AI失败时是否回退到纯网格策略 (true/false)
AI_FALLBACK_TO_GRID=true


# ========== 止损配置 (Stop Loss Settings) ==========
# 是否启用止损机制 (true/false)
# 止损机制包括价格止损和回撤止盈两种触发方式
ENABLE_STOP_LOSS=false

# 价格止损比例 (%)
# 当价格相对基准价下跌超过此比例时触发止损
# 例如: 15.0 表示下跌15%止损
# 设为 0 则禁用价格止损
# 建议值: 10.0 - 20.0
STOP_LOSS_PERCENTAGE=15.0

# 回撤止盈比例 (%)
# 当盈利从最高点回撤超过此比例时触发止盈
# 例如: 20.0 表示从最高盈利回撤20%就止盈
# 设为 0 则禁用回撤止盈
# 建议值: 15.0 - 30.0
TAKE_PROFIT_DRAWDOWN=20.0


# ========== 高级配置 (Advanced - 通常无需修改) ==========
# 理财产品申购/赎回的精度 (JSON格式)
# 现在您可以按需添加更多币种的精度设置。'DEFAULT'用于未明确指定的币种。
SAVINGS_PRECISIONS='{"USDT": 2, "BNB": 6, "ETH": 5, "BTC": 8, "ADA": 4, "DOT": 4, "MATIC": 2, "LINK": 4, "UNI": 4, "DEFAULT": 8}'